---
interface Props {
  variant?: 'default' | 'compact';
}

const { variant = 'default' } = Astro.props;
const isCompact = variant === 'compact';
---

<div class="email-signup">
  <form
    action="/api/subscribe"
    method="POST"
    class="flex flex-col sm:flex-row gap-3"
  >
    <div class="flex-1">
      <label for="email" class="sr-only">Email address</label>
      <input
        type="email"
        id="email"
        name="email"
        required
        placeholder="your@email.com"
        class="w-full px-3 py-2 text-sm border border-ink-300 focus:border-ink-950 focus:outline-none transition-colors"
      />
    </div>

    {!isCompact && (
      <div>
        <select
          name="country"
          class="w-full sm:w-auto px-3 py-2 text-sm border border-ink-300 focus:border-ink-950 focus:outline-none bg-white"
        >
          <option value="">Country</option>
          <option value="AT">Austria</option>
          <option value="BE">Belgium</option>
          <option value="BG">Bulgaria</option>
          <option value="HR">Croatia</option>
          <option value="CY">Cyprus</option>
          <option value="CZ">Czech Republic</option>
          <option value="DK">Denmark</option>
          <option value="EE">Estonia</option>
          <option value="FI">Finland</option>
          <option value="FR">France</option>
          <option value="DE">Germany</option>
          <option value="GR">Greece</option>
          <option value="HU">Hungary</option>
          <option value="IE">Ireland</option>
          <option value="IT">Italy</option>
          <option value="LV">Latvia</option>
          <option value="LT">Lithuania</option>
          <option value="LU">Luxembourg</option>
          <option value="MT">Malta</option>
          <option value="NL">Netherlands</option>
          <option value="PL">Poland</option>
          <option value="PT">Portugal</option>
          <option value="RO">Romania</option>
          <option value="SK">Slovakia</option>
          <option value="SI">Slovenia</option>
          <option value="ES">Spain</option>
          <option value="SE">Sweden</option>
          <option value="OTHER">Other</option>
        </select>
      </div>
    )}

    <button type="submit" class="btn btn-primary whitespace-nowrap">
      Subscribe
    </button>
  </form>

  <p class="text-xs text-ink-500 mt-3">
    No spam. Unsubscribe anytime.
  </p>
</div>
